/*! parsereact-todo 25-09-2015 */
var createOffer=function(a,b){var c=_.map($("#"+b).find("input, select"),function(a){var c=document.forms[b][a.name].value;return null===c||""===c||void 0===c||"Choose category"===c?($(a).closest(".form-group").addClass("has-error"),$(a).closest(".form-group").removeClass("has-success"),!1):($(a).closest(".form-group").addClass("has-success"),$(a).closest(".form-group").removeClass("has-error"),!0)});if(_.every(c))if(new moment(a.date_publishing,moment.ISO_8601).toDate()>=moment().toDate())if(a.date_publishing<a.date_finishing){var d=new Offer;d.set("title",a.title?a.title:""),d.set("description",a.description?a.description:""),d.set("category",a.category?a.category:""),d.set("date_publishing",a.date_publishing?new moment(a.date_publishing,moment.ISO_8601).toDate():null),d.set("date_finishing",a.date_finishing?new moment(a.date_finishing,moment.ISO_8601).toDate():null),d.set("company",a.company?a.company:""),d.set("address",a.address?a.address:""),d.save(null,{success:function(a){document.location.reload(!0)},error:function(a,b){alert("Error: "+b.code+"\n\nwhat is the error \n\n "+b.message)}})}else alert(a.date_publishing+" is lower than "+a.date_finishing),$("#date_publishingForm").closest(".form-group").addClass("has-success"),$("#date_publishingForm").closest(".form-group").addClass("has-error");else alert(a.date_publishing+" is lower than today"),$("#date_publishingForm").closest(".form-group").addClass("has-success"),$("#date_publishingForm").closest(".form-group").addClass("has-error")};Parse.initialize("t765p8Fl76ugmdCpgqUXUfLd5ltdBnoP6A6X5gwN","SwlLhe48hkTijFNKMsRlnRbi5Bp7YUpMNwJ8sEwM");var editOffer=function(a,b){var c=new Offer;c.id=a;for(var d in b)""!==b[d]&&c.set(d,b[d]);c.save(null,{success:function(a){document.location.reload(!0)},error:function(a,b){alert("Error: "+b.code+"\n\nwhat is the error \n\n "+b.message)}})},offersArray=[],Offer=Parse.Object.extend("Oferta"),getOffers=new Parse.Query(Offer);getOffers.find({success:function(a){for(var b=0;b<a.length;b++)offersArray.push({id:a[b].id,title:a[b].get("title"),description:a[b].get("description"),category:a[b].get("category"),date_publishing:a[b].get("date_publishing"),date_finishing:a[b].get("date_finishing"),company:a[b].get("company"),address:a[b].get("address")})},error:function(a){alert("Error: "+a.code+" "+a.message)}});